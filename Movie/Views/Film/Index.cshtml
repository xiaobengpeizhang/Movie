@model IEnumerable<Movie.Models.Film>




@{
    if (Session["userName"] != null)
    {
        string userName = Session["userName"].ToString();
        <div class="container" style="margin-top:20px">
            <p>欢迎你，@userName</p>


            <p>
                @Html.ActionLink("Create New", "Create")
            </p>

            <table class="table  table-striped table-bordered">
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.title)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.director)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.description)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.show_at)
                    </th>
                    <th>操作</th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.title)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.director)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.show_at)
                        </td>
                        <td>
                            @Html.ActionLink("Edit", "Edit", new { id = item.filmID }) |
                            @Html.ActionLink("Details", "Details", new { id = item.filmID }) |
                            @Html.ActionLink("Delete", "Delete", new { id = item.filmID })

                        </td>
                    </tr>
                }

            </table>

        </div>
    }
    else
    {
        <div class="container" style="margin-top:20px">
            <p>请先登录</p>
        </div>
        @Html.ActionLink("登录", "Index", "User");
    }


}
